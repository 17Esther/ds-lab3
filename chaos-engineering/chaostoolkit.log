[36m[2025-11-08 07:42:41 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:42:41 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:42:41 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:42:41 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:42:41 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:42:41 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:42:41 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:42:41 DEBUG] [caching:35][39m Cached 3 activities
[32m[2025-11-08 07:42:41 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:42:41 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:42:41 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:42:41 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:42:42 DEBUG] [caching:42][39m Clearing activities cache
[31m[2025-11-08 07:42:42 ERROR] [run:188][39m The python module 'chaosk8s.probes' does not expose a function called 'pod_exists' in probe 'client-service-pod-exists'
[36m[2025-11-08 07:42:42 DEBUG] [run:189][39m The python module 'chaosk8s.probes' does not expose a function called 'pod_exists' in probe 'client-service-pod-exists'
[36m[2025-11-08 07:43:23 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:43:23 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:43:23 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:43:23 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:43:23 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:43:23 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:43:23 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:43:23 DEBUG] [caching:35][39m Cached 3 activities
[32m[2025-11-08 07:43:23 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:43:23 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:43:23 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:43:23 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:43:24 DEBUG] [caching:42][39m Clearing activities cache
[31m[2025-11-08 07:43:24 ERROR] [run:188][39m The python module 'chaosk8s.probes' does not expose a function called 'count_pods' in probe 'client-service-pod-exists'
[36m[2025-11-08 07:43:24 DEBUG] [run:189][39m The python module 'chaosk8s.probes' does not expose a function called 'count_pods' in probe 'client-service-pod-exists'
[36m[2025-11-08 07:43:51 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:43:51 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:43:51 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:43:51 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:43:51 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:43:51 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:43:51 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:43:51 DEBUG] [caching:35][39m Cached 2 activities
[32m[2025-11-08 07:43:51 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:43:51 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:43:51 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:43:51 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:43:51 DEBUG] [caching:42][39m Clearing activities cache
[31m[2025-11-08 07:43:51 ERROR] [run:188][39m The python module 'chaosk8s.actions' does not expose a function called 'exec_in_pod' in action 'block-network-to-backend-service'
[36m[2025-11-08 07:43:51 DEBUG] [run:189][39m The python module 'chaosk8s.actions' does not expose a function called 'exec_in_pod' in action 'block-network-to-backend-service'
[36m[2025-11-08 07:45:13 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:45:13 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:45:13 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:45:13 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:45:13 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:45:13 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:45:13 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:45:13 DEBUG] [caching:35][39m Cached 2 activities
[32m[2025-11-08 07:45:13 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:45:13 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:45:13 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:45:13 DEBUG] [secret:104][39m Done loading secrets
[32m[2025-11-08 07:45:13 INFO] [experiment:112][39m Experiment looks valid
[36m[2025-11-08 07:45:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:45:13 DEBUG] [run:224][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2025-11-08 07:45:13 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:45:13 DEBUG] [caching:35][39m Cached 2 activities
[36m[2025-11-08 07:45:13 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:45:13 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:45:13 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:45:13 DEBUG] [configuration:161][39m Loading dynamic configuration...
[32m[2025-11-08 07:45:13 INFO] [run:440][39m Running experiment: Network Partition: ClientService to BackendService
[36m[2025-11-08 07:45:13 DEBUG] [__init__:67][39m Initializing controls
[32m[2025-11-08 07:45:13 INFO] [run:471][39m Steady-state strategy: default
[32m[2025-11-08 07:45:13 INFO] [run:477][39m Rollbacks strategy: default
[36m[2025-11-08 07:45:13 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:45:13 DEBUG] [run:654][39m Running steady-state hypothesis before the method
[32m[2025-11-08 07:45:13 INFO] [hypothesis:205][39m Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:45:13 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[36m[2025-11-08 07:45:13 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:45:13 INFO] [activity:232][39m Probe: backend-service-is-available
[36m[2025-11-08 07:45:13 DEBUG] [activity:317][39m Activity failed
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 199, in _new_conn
        sock = connection.create_connection(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/util/connection.py", line 60, in create_connection
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/socket.py", line 930, in getaddrinfo
        for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
    socket.gaierror: [Errno 8] nodename nor servname provided, or not known
    
    The above exception was the direct cause of the following exception:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
        response = self._make_request(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 495, in _make_request
        conn.request(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 441, in request
        self.endheaders()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 1251, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 1011, in _send_output
        self.send(msg)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 951, in send
        self.connect()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 279, in connect
        self.sock = self._new_conn()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 206, in _new_conn
        raise NameResolutionError(self.host, self, e) from e
    urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPConnection object at 0x1056a8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)
    
    The above exception was the direct cause of the following exception:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
        resp = conn.urlopen(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
        retries = retries.increment(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
        raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x1056a8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/adapters.py", line 700, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x1056a8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/activity.py", line 314, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/provider/http.py", line 101, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://backend-service:8081/api/data: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x1056a8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
[31m[2025-11-08 07:45:13 ERROR] [activity:268][39m   => failed: failed to connect to http://backend-service:8081/api/data: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x1056a8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
[36m[2025-11-08 07:45:13 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[33m[2025-11-08 07:45:13 WARNING] [hypothesis:232][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2025-11-08 07:45:13 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[31m[2025-11-08 07:45:13 CRITICAL] [run:674][39m Steady state probe 'backend-service-is-available' is not in the given tolerance so failing this experiment
[32m[2025-11-08 07:45:13 INFO] [run:598][39m Experiment ended with status: failed
[36m[2025-11-08 07:45:13 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:45:13 DEBUG] [__init__:106][39m Cleaning up controls
[36m[2025-11-08 07:45:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:46:46 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:46:46 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:46:46 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:46:46 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:46:46 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:46:46 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:46:46 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:46:46 DEBUG] [caching:35][39m Cached 2 activities
[32m[2025-11-08 07:46:46 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:46:46 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:46:46 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:46:46 DEBUG] [secret:104][39m Done loading secrets
[32m[2025-11-08 07:46:46 INFO] [experiment:112][39m Experiment looks valid
[36m[2025-11-08 07:46:46 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:46:46 DEBUG] [run:224][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2025-11-08 07:46:46 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:46:46 DEBUG] [caching:35][39m Cached 2 activities
[36m[2025-11-08 07:46:46 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:46:46 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:46:46 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:46:46 DEBUG] [configuration:161][39m Loading dynamic configuration...
[32m[2025-11-08 07:46:46 INFO] [run:440][39m Running experiment: Network Partition: ClientService to BackendService
[36m[2025-11-08 07:46:46 DEBUG] [__init__:67][39m Initializing controls
[32m[2025-11-08 07:46:46 INFO] [run:471][39m Steady-state strategy: default
[32m[2025-11-08 07:46:46 INFO] [run:477][39m Rollbacks strategy: default
[36m[2025-11-08 07:46:46 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:46:46 DEBUG] [run:654][39m Running steady-state hypothesis before the method
[32m[2025-11-08 07:46:46 INFO] [hypothesis:205][39m Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:46:46 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[36m[2025-11-08 07:46:46 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:46:46 INFO] [activity:232][39m Probe: backend-service-is-available
[36m[2025-11-08 07:46:46 DEBUG] [activity:317][39m Activity failed
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 199, in _new_conn
        sock = connection.create_connection(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/util/connection.py", line 60, in create_connection
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/socket.py", line 930, in getaddrinfo
        for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
    socket.gaierror: [Errno 8] nodename nor servname provided, or not known
    
    The above exception was the direct cause of the following exception:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
        response = self._make_request(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 495, in _make_request
        conn.request(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 441, in request
        self.endheaders()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 1251, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 1011, in _send_output
        self.send(msg)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 951, in send
        self.connect()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 279, in connect
        self.sock = self._new_conn()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 206, in _new_conn
        raise NameResolutionError(self.host, self, e) from e
    urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPConnection object at 0x104fc8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)
    
    The above exception was the direct cause of the following exception:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
        resp = conn.urlopen(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
        retries = retries.increment(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
        raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x104fc8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/adapters.py", line 700, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x104fc8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/activity.py", line 314, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/provider/http.py", line 101, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://backend-service:8081/api/data: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x104fc8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
[31m[2025-11-08 07:46:46 ERROR] [activity:268][39m   => failed: failed to connect to http://backend-service:8081/api/data: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x104fc8ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
[36m[2025-11-08 07:46:46 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[33m[2025-11-08 07:46:46 WARNING] [hypothesis:232][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2025-11-08 07:46:46 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[31m[2025-11-08 07:46:46 CRITICAL] [run:674][39m Steady state probe 'backend-service-is-available' is not in the given tolerance so failing this experiment
[32m[2025-11-08 07:46:46 INFO] [run:598][39m Experiment ended with status: failed
[36m[2025-11-08 07:46:46 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:46:46 DEBUG] [__init__:106][39m Cleaning up controls
[36m[2025-11-08 07:46:46 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:48:53 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:48:53 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:48:53 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:48:53 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:48:53 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:48:53 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:48:53 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:48:53 DEBUG] [caching:35][39m Cached 3 activities
[32m[2025-11-08 07:48:53 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:48:53 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:48:53 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:48:53 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:48:54 DEBUG] [caching:42][39m Clearing activities cache
[31m[2025-11-08 07:48:54 ERROR] [run:188][39m The python module 'chaosk8s.pod.probes' does not expose a function called 'pods_healthy' in probe 'backend-pod-is-running'
[36m[2025-11-08 07:48:54 DEBUG] [run:189][39m The python module 'chaosk8s.pod.probes' does not expose a function called 'pods_healthy' in probe 'backend-pod-is-running'
[36m[2025-11-08 07:49:41 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:49:41 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:49:41 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:49:41 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:49:41 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:49:41 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:49:41 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:49:41 DEBUG] [caching:35][39m Cached 2 activities
[32m[2025-11-08 07:49:41 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:49:41 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:49:41 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:49:41 DEBUG] [secret:104][39m Done loading secrets
[32m[2025-11-08 07:49:41 INFO] [experiment:112][39m Experiment looks valid
[36m[2025-11-08 07:49:41 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:49:41 DEBUG] [run:224][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2025-11-08 07:49:41 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:49:41 DEBUG] [caching:35][39m Cached 2 activities
[36m[2025-11-08 07:49:41 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:49:41 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:49:41 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:49:41 DEBUG] [configuration:161][39m Loading dynamic configuration...
[32m[2025-11-08 07:49:41 INFO] [run:440][39m Running experiment: Network Partition: ClientService to BackendService
[36m[2025-11-08 07:49:41 DEBUG] [__init__:67][39m Initializing controls
[32m[2025-11-08 07:49:41 INFO] [run:471][39m Steady-state strategy: default
[32m[2025-11-08 07:49:41 INFO] [run:477][39m Rollbacks strategy: default
[36m[2025-11-08 07:49:41 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:49:41 DEBUG] [run:654][39m Running steady-state hypothesis before the method
[32m[2025-11-08 07:49:41 INFO] [hypothesis:205][39m Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:49:41 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[36m[2025-11-08 07:49:41 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:49:41 INFO] [activity:232][39m Probe: backend-service-is-available
[36m[2025-11-08 07:49:41 DEBUG] [activity:317][39m Activity failed
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 199, in _new_conn
        sock = connection.create_connection(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/util/connection.py", line 60, in create_connection
        for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/socket.py", line 930, in getaddrinfo
        for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
    socket.gaierror: [Errno 8] nodename nor servname provided, or not known
    
    The above exception was the direct cause of the following exception:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 789, in urlopen
        response = self._make_request(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 495, in _make_request
        conn.request(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 441, in request
        self.endheaders()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 1251, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 1011, in _send_output
        self.send(msg)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/http/client.py", line 951, in send
        self.connect()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 279, in connect
        self.sock = self._new_conn()
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connection.py", line 206, in _new_conn
        raise NameResolutionError(self.host, self, e) from e
    urllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPConnection object at 0x105c24ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)
    
    The above exception was the direct cause of the following exception:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/adapters.py", line 667, in send
        resp = conn.urlopen(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/connectionpool.py", line 843, in urlopen
        retries = retries.increment(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/urllib3/util/retry.py", line 519, in increment
        raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x105c24ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/requests/adapters.py", line 700, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x105c24ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/activity.py", line 314, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/Users/estherli/.local/share/mise/installs/python/3.8.20/lib/python3.8/site-packages/chaoslib/provider/http.py", line 101, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://backend-service:8081/api/data: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x105c24ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
[31m[2025-11-08 07:49:41 ERROR] [activity:268][39m   => failed: failed to connect to http://backend-service:8081/api/data: HTTPConnectionPool(host='backend-service', port=8081): Max retries exceeded with url: /api/data (Caused by NameResolutionError("<urllib3.connection.HTTPConnection object at 0x105c24ca0>: Failed to resolve 'backend-service' ([Errno 8] nodename nor servname provided, or not known)"))
[36m[2025-11-08 07:49:41 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[33m[2025-11-08 07:49:41 WARNING] [hypothesis:232][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2025-11-08 07:49:41 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[31m[2025-11-08 07:49:41 CRITICAL] [run:674][39m Steady state probe 'backend-service-is-available' is not in the given tolerance so failing this experiment
[32m[2025-11-08 07:49:41 INFO] [run:598][39m Experiment ended with status: failed
[36m[2025-11-08 07:49:41 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:49:41 DEBUG] [__init__:106][39m Cleaning up controls
[36m[2025-11-08 07:49:41 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:50:19 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:50:19 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:50:19 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:50:19 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:50:19 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:50:19 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:50:19 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:50:19 DEBUG] [caching:35][39m Cached 3 activities
[32m[2025-11-08 07:50:19 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:50:19 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:50:19 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:50:19 DEBUG] [secret:104][39m Done loading secrets
[32m[2025-11-08 07:50:19 INFO] [experiment:112][39m Experiment looks valid
[36m[2025-11-08 07:50:19 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:50:19 DEBUG] [run:224][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2025-11-08 07:50:19 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:50:19 DEBUG] [caching:35][39m Cached 3 activities
[36m[2025-11-08 07:50:19 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:50:19 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:50:19 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:50:19 DEBUG] [configuration:161][39m Loading dynamic configuration...
[32m[2025-11-08 07:50:19 INFO] [run:440][39m Running experiment: Network Partition: ClientService to BackendService
[36m[2025-11-08 07:50:19 DEBUG] [__init__:67][39m Initializing controls
[32m[2025-11-08 07:50:19 INFO] [run:471][39m Steady-state strategy: default
[32m[2025-11-08 07:50:19 INFO] [run:477][39m Rollbacks strategy: default
[36m[2025-11-08 07:50:19 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:50:19 DEBUG] [run:654][39m Running steady-state hypothesis before the method
[32m[2025-11-08 07:50:19 INFO] [hypothesis:205][39m Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:50:19 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[36m[2025-11-08 07:50:19 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:50:19 INFO] [activity:232][39m Probe: backend-service-pod-is-running
[36m[2025-11-08 07:50:19 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running && echo Running || echo NotRunning"]
[36m[2025-11-08 07:50:20 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': 'Running\n', 'stderr': ''}'
[36m[2025-11-08 07:50:20 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 07:50:20 DEBUG] [hypothesis:247][39m allowed tolerance is Running
[36m[2025-11-08 07:50:20 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[31m[2025-11-08 07:50:20 CRITICAL] [run:674][39m Steady state probe 'backend-service-pod-is-running' is not in the given tolerance so failing this experiment
[32m[2025-11-08 07:50:20 INFO] [run:1072][39m Let's rollback...
[36m[2025-11-08 07:50:20 DEBUG] [__init__:472][39m No controls to apply on 'rollback'
[32m[2025-11-08 07:50:20 INFO] [rollback:36][39m Rollback: restore-network-to-backend-service
[36m[2025-11-08 07:50:20 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:50:20 INFO] [activity:232][39m Action: restore-network-to-backend-service
[36m[2025-11-08 07:50:20 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', 'CLIENT_POD=$(kubectl get pods -l app=client-service -n default -o jsonpath=\'{.items[0].metadata.name}\'); BACKEND_IP=$(kubectl get svc backend-service -n default -o jsonpath=\'{.spec.clusterIP}\'); echo "Restoring traffic from $CLIENT_POD to $BACKEND_IP"; kubectl exec $CLIENT_POD -n default -- sh -c "iptables -D OUTPUT -d $BACKEND_IP -j DROP" 2>&1 || echo "Rule removed or did not exist"']
[36m[2025-11-08 07:50:20 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': 'Restoring traffic from client-service-deployment-6c657966db-v6vg2 to 10.106.250.254\nsh: 1: iptables: not found\ncommand terminated with exit code 127\nRule removed or did not exist\n', 'stderr': ''}'
[36m[2025-11-08 07:50:20 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 07:50:20 DEBUG] [__init__:472][39m No controls to apply on 'rollback'
[32m[2025-11-08 07:50:20 INFO] [run:598][39m Experiment ended with status: completed
[36m[2025-11-08 07:50:20 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:50:20 DEBUG] [__init__:106][39m Cleaning up controls
[36m[2025-11-08 07:50:20 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:51:12 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 07:51:12 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 07:51:12 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:51:12 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 07:51:12 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:51:12 DEBUG] [caching:35][39m Cached 3 activities
[32m[2025-11-08 07:51:12 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 07:51:12 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:51:12 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:51:12 DEBUG] [secret:104][39m Done loading secrets
[32m[2025-11-08 07:51:12 INFO] [experiment:112][39m Experiment looks valid
[36m[2025-11-08 07:51:12 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:51:12 DEBUG] [run:224][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2025-11-08 07:51:12 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 07:51:12 DEBUG] [caching:35][39m Cached 3 activities
[36m[2025-11-08 07:51:12 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 07:51:12 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 07:51:12 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 07:51:12 DEBUG] [configuration:161][39m Loading dynamic configuration...
[32m[2025-11-08 07:51:12 INFO] [run:440][39m Running experiment: Network Partition: ClientService to BackendService
[36m[2025-11-08 07:51:12 DEBUG] [__init__:67][39m Initializing controls
[32m[2025-11-08 07:51:12 INFO] [run:471][39m Steady-state strategy: default
[32m[2025-11-08 07:51:12 INFO] [run:477][39m Rollbacks strategy: default
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:51:12 DEBUG] [run:654][39m Running steady-state hypothesis before the method
[32m[2025-11-08 07:51:12 INFO] [hypothesis:205][39m Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:51:12 INFO] [activity:232][39m Probe: backend-service-pod-is-running
[36m[2025-11-08 07:51:12 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:51:12 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 07:51:12 DEBUG] [hypothesis:247][39m allowed tolerance is 0
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:51:12 INFO] [activity:232][39m Probe: client-service-pod-is-running
[36m[2025-11-08 07:51:12 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=client-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:51:12 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 07:51:12 DEBUG] [hypothesis:247][39m allowed tolerance is 0
[32m[2025-11-08 07:51:12 INFO] [hypothesis:260][39m Steady state hypothesis is met!
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[32m[2025-11-08 07:51:12 INFO] [run:778][39m Playing your experiment's method now...
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'method'
[36m[2025-11-08 07:51:12 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:51:12 INFO] [activity:232][39m Action: block-network-to-backend-service
[36m[2025-11-08 07:51:12 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', 'CLIENT_POD=$(kubectl get pods -l app=client-service -n default -o jsonpath=\'{.items[0].metadata.name}\'); BACKEND_IP=$(kubectl get svc backend-service -n default -o jsonpath=\'{.spec.clusterIP}\'); echo "Blocking traffic from $CLIENT_POD to $BACKEND_IP"; kubectl exec $CLIENT_POD -n default -- sh -c "iptables -A OUTPUT -d $BACKEND_IP -j DROP" 2>&1 || echo "Note: iptables may require NET_ADMIN capability or pod may not exist"']
[36m[2025-11-08 07:51:12 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': 'Blocking traffic from client-service-deployment-6c657966db-v6vg2 to 10.106.250.254\nsh: 1: iptables: not found\ncommand terminated with exit code 127\nNote: iptables may require NET_ADMIN capability or pod may not exist\n', 'stderr': ''}'
[32m[2025-11-08 07:51:12 INFO] [activity:280][39m Pausing after activity for 30s...
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'method'
[36m[2025-11-08 07:51:42 DEBUG] [run:696][39m Running steady-state hypothesis after the method
[32m[2025-11-08 07:51:42 INFO] [hypothesis:205][39m Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:51:42 INFO] [activity:232][39m Probe: backend-service-pod-is-running
[36m[2025-11-08 07:51:42 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:51:42 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 07:51:42 DEBUG] [hypothesis:247][39m allowed tolerance is 0
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:51:42 INFO] [activity:232][39m Probe: client-service-pod-is-running
[36m[2025-11-08 07:51:42 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=client-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:51:42 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 07:51:42 DEBUG] [hypothesis:247][39m allowed tolerance is 0
[32m[2025-11-08 07:51:42 INFO] [hypothesis:260][39m Steady state hypothesis is met!
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[32m[2025-11-08 07:51:42 INFO] [run:1072][39m Let's rollback...
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'rollback'
[32m[2025-11-08 07:51:42 INFO] [rollback:36][39m Rollback: restore-network-to-backend-service
[36m[2025-11-08 07:51:42 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 07:51:42 INFO] [activity:232][39m Action: restore-network-to-backend-service
[36m[2025-11-08 07:51:42 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', 'CLIENT_POD=$(kubectl get pods -l app=client-service -n default -o jsonpath=\'{.items[0].metadata.name}\'); BACKEND_IP=$(kubectl get svc backend-service -n default -o jsonpath=\'{.spec.clusterIP}\'); echo "Restoring traffic from $CLIENT_POD to $BACKEND_IP"; kubectl exec $CLIENT_POD -n default -- sh -c "iptables -D OUTPUT -d $BACKEND_IP -j DROP" 2>&1 || echo "Rule removed or did not exist"']
[36m[2025-11-08 07:51:43 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': 'Restoring traffic from client-service-deployment-6c657966db-v6vg2 to 10.106.250.254\nsh: 1: iptables: not found\ncommand terminated with exit code 127\nRule removed or did not exist\n', 'stderr': ''}'
[36m[2025-11-08 07:51:43 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 07:51:43 DEBUG] [__init__:472][39m No controls to apply on 'rollback'
[32m[2025-11-08 07:51:43 INFO] [run:598][39m Experiment ended with status: completed
[36m[2025-11-08 07:51:43 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 07:51:43 DEBUG] [__init__:106][39m Cleaning up controls
[36m[2025-11-08 07:51:43 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 07:54:44 DEBUG] [__init__:101] ###############################################################################
[36m[2025-11-08 07:54:44 DEBUG] [__init__:102] Running command 'run'
[36m[2025-11-08 07:54:44 DEBUG] [__init__:106] Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:54:44 DEBUG] [settings:31] The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'loader'
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'loader'
[36m[2025-11-08 07:54:44 DEBUG] [caching:24] Building activity cache...
[36m[2025-11-08 07:54:44 DEBUG] [caching:35] Cached 3 activities
[32m[2025-11-08 07:54:44 INFO] [experiment:59] Validating the experiment's syntax
[36m[2025-11-08 07:54:44 DEBUG] [configuration:64] Loading configuration...
[36m[2025-11-08 07:54:44 DEBUG] [secret:79] Loading secrets...
[36m[2025-11-08 07:54:44 DEBUG] [secret:104] Done loading secrets
[32m[2025-11-08 07:54:44 INFO] [experiment:112] Experiment looks valid
[36m[2025-11-08 07:54:44 DEBUG] [caching:42] Clearing activities cache
[36m[2025-11-08 07:54:44 DEBUG] [run:224] Runtime strategies: hypothesis - default / rollbacks - default
[36m[2025-11-08 07:54:44 DEBUG] [caching:24] Building activity cache...
[36m[2025-11-08 07:54:44 DEBUG] [caching:35] Cached 3 activities
[36m[2025-11-08 07:54:44 DEBUG] [configuration:64] Loading configuration...
[36m[2025-11-08 07:54:44 DEBUG] [secret:79] Loading secrets...
[36m[2025-11-08 07:54:44 DEBUG] [secret:104] Done loading secrets
[36m[2025-11-08 07:54:44 DEBUG] [configuration:161] Loading dynamic configuration...
[32m[2025-11-08 07:54:44 INFO] [run:440] Running experiment: Network Partition: ClientService to BackendService
[36m[2025-11-08 07:54:44 DEBUG] [__init__:67] Initializing controls
[32m[2025-11-08 07:54:44 INFO] [run:471] Steady-state strategy: default
[32m[2025-11-08 07:54:44 INFO] [run:477] Rollbacks strategy: default
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'experiment'
[36m[2025-11-08 07:54:44 DEBUG] [run:654] Running steady-state hypothesis before the method
[32m[2025-11-08 07:54:44 INFO] [hypothesis:205] Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'hypothesis'
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:54:44 INFO] [activity:232] Probe: backend-service-pod-is-running
[36m[2025-11-08 07:54:44 DEBUG] [process:52] Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:54:44 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:54:44 DEBUG] [hypothesis:247] allowed tolerance is 0
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:54:44 INFO] [activity:232] Probe: client-service-pod-is-running
[36m[2025-11-08 07:54:44 DEBUG] [process:52] Running: ['/bin/sh', '-c', "kubectl get pods -l app=client-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:54:44 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:54:44 DEBUG] [hypothesis:247] allowed tolerance is 0
[32m[2025-11-08 07:54:44 INFO] [hypothesis:260] Steady state hypothesis is met!
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'hypothesis'
[32m[2025-11-08 07:54:44 INFO] [run:778] Playing your experiment's method now...
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'method'
[36m[2025-11-08 07:54:44 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:54:44 INFO] [activity:232] Action: block-network-to-backend-service
[36m[2025-11-08 07:54:44 DEBUG] [process:52] Running: ['/bin/sh', '-c', 'CLIENT_POD=$(kubectl get pods -l app=client-service -n default -o jsonpath=\'{.items[0].metadata.name}\'); BACKEND_IP=$(kubectl get svc backend-service -n default -o jsonpath=\'{.spec.clusterIP}\'); echo "Blocking traffic from $CLIENT_POD to $BACKEND_IP"; kubectl exec $CLIENT_POD -n default -- sh -c "iptables -A OUTPUT -d $BACKEND_IP -j DROP" 2>&1 || echo "Note: iptables may require NET_ADMIN capability or pod may not exist"']
[36m[2025-11-08 07:54:44 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': 'Blocking traffic from client-service-deployment-575dc956db-7cl69 to 10.106.250.254\nsh: 1: iptables: not found\ncommand terminated with exit code 127\nNote: iptables may require NET_ADMIN capability or pod may not exist\n', 'stderr': ''}'
[32m[2025-11-08 07:54:44 INFO] [activity:280] Pausing after activity for 30s...
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'method'
[36m[2025-11-08 07:55:14 DEBUG] [run:696] Running steady-state hypothesis after the method
[32m[2025-11-08 07:55:14 INFO] [hypothesis:205] Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'hypothesis'
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:55:14 INFO] [activity:232] Probe: backend-service-pod-is-running
[36m[2025-11-08 07:55:14 DEBUG] [process:52] Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:55:14 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:55:14 DEBUG] [hypothesis:247] allowed tolerance is 0
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:55:14 INFO] [activity:232] Probe: client-service-pod-is-running
[36m[2025-11-08 07:55:14 DEBUG] [process:52] Running: ['/bin/sh', '-c', "kubectl get pods -l app=client-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:55:14 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:55:14 DEBUG] [hypothesis:247] allowed tolerance is 0
[32m[2025-11-08 07:55:14 INFO] [hypothesis:260] Steady state hypothesis is met!
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'hypothesis'
[32m[2025-11-08 07:55:14 INFO] [run:1072] Let's rollback...
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'rollback'
[32m[2025-11-08 07:55:14 INFO] [rollback:36] Rollback: restore-network-to-backend-service
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:55:14 INFO] [activity:232] Action: restore-network-to-backend-service
[36m[2025-11-08 07:55:14 DEBUG] [process:52] Running: ['/bin/sh', '-c', 'CLIENT_POD=$(kubectl get pods -l app=client-service -n default -o jsonpath=\'{.items[0].metadata.name}\'); BACKEND_IP=$(kubectl get svc backend-service -n default -o jsonpath=\'{.spec.clusterIP}\'); echo "Restoring traffic from $CLIENT_POD to $BACKEND_IP"; kubectl exec $CLIENT_POD -n default -- sh -c "iptables -D OUTPUT -d $BACKEND_IP -j DROP" 2>&1 || echo "Rule removed or did not exist"']
[36m[2025-11-08 07:55:14 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': 'Restoring traffic from client-service-deployment-575dc956db-7cl69 to 10.106.250.254\nsh: 1: iptables: not found\ncommand terminated with exit code 127\nRule removed or did not exist\n', 'stderr': ''}'
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'rollback'
[32m[2025-11-08 07:55:14 INFO] [run:598] Experiment ended with status: completed
[36m[2025-11-08 07:55:14 DEBUG] [__init__:472] No controls to apply on 'experiment'
[36m[2025-11-08 07:55:14 DEBUG] [__init__:106] Cleaning up controls
[36m[2025-11-08 07:55:14 DEBUG] [caching:42] Clearing activities cache
[36m[2025-11-08 07:56:38 DEBUG] [__init__:101] ###############################################################################
[36m[2025-11-08 07:56:38 DEBUG] [__init__:102] Running command 'run'
[36m[2025-11-08 07:56:38 DEBUG] [__init__:106] Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 07:56:38 DEBUG] [settings:31] The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 07:56:38 DEBUG] [__init__:472] No controls to apply on 'loader'
[36m[2025-11-08 07:56:38 DEBUG] [__init__:472] No controls to apply on 'loader'
[36m[2025-11-08 07:56:38 DEBUG] [caching:24] Building activity cache...
[36m[2025-11-08 07:56:38 DEBUG] [caching:35] Cached 3 activities
[32m[2025-11-08 07:56:38 INFO] [experiment:59] Validating the experiment's syntax
[36m[2025-11-08 07:56:38 DEBUG] [configuration:64] Loading configuration...
[36m[2025-11-08 07:56:38 DEBUG] [secret:79] Loading secrets...
[36m[2025-11-08 07:56:38 DEBUG] [secret:104] Done loading secrets
[32m[2025-11-08 07:56:38 INFO] [experiment:112] Experiment looks valid
[36m[2025-11-08 07:56:38 DEBUG] [caching:42] Clearing activities cache
[36m[2025-11-08 07:56:38 DEBUG] [run:224] Runtime strategies: hypothesis - default / rollbacks - default
[36m[2025-11-08 07:56:38 DEBUG] [caching:24] Building activity cache...
[36m[2025-11-08 07:56:38 DEBUG] [caching:35] Cached 3 activities
[36m[2025-11-08 07:56:38 DEBUG] [configuration:64] Loading configuration...
[36m[2025-11-08 07:56:38 DEBUG] [secret:79] Loading secrets...
[36m[2025-11-08 07:56:38 DEBUG] [secret:104] Done loading secrets
[36m[2025-11-08 07:56:38 DEBUG] [configuration:161] Loading dynamic configuration...
[32m[2025-11-08 07:56:38 INFO] [run:440] Running experiment: Network Partition: ClientService to BackendService
[36m[2025-11-08 07:56:38 DEBUG] [__init__:67] Initializing controls
[32m[2025-11-08 07:56:38 INFO] [run:471] Steady-state strategy: default
[32m[2025-11-08 07:56:38 INFO] [run:477] Rollbacks strategy: default
[36m[2025-11-08 07:56:38 DEBUG] [__init__:472] No controls to apply on 'experiment'
[36m[2025-11-08 07:56:38 DEBUG] [run:654] Running steady-state hypothesis before the method
[32m[2025-11-08 07:56:38 INFO] [hypothesis:205] Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:56:38 DEBUG] [__init__:472] No controls to apply on 'hypothesis'
[36m[2025-11-08 07:56:38 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:56:38 INFO] [activity:232] Probe: backend-service-pod-is-running
[36m[2025-11-08 07:56:38 DEBUG] [process:52] Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:56:39 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:56:39 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:56:39 DEBUG] [hypothesis:247] allowed tolerance is 0
[36m[2025-11-08 07:56:39 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:56:39 INFO] [activity:232] Probe: client-service-pod-is-running
[36m[2025-11-08 07:56:39 DEBUG] [process:52] Running: ['/bin/sh', '-c', "kubectl get pods -l app=client-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:56:39 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 07:56:39 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:56:39 DEBUG] [hypothesis:247] allowed tolerance is 0
[32m[2025-11-08 07:56:39 INFO] [hypothesis:260] Steady state hypothesis is met!
[36m[2025-11-08 07:56:39 DEBUG] [__init__:472] No controls to apply on 'hypothesis'
[32m[2025-11-08 07:56:39 INFO] [run:778] Playing your experiment's method now...
[36m[2025-11-08 07:56:39 DEBUG] [__init__:472] No controls to apply on 'method'
[36m[2025-11-08 07:56:39 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:56:39 INFO] [activity:232] Action: scale-down-backend-service
[36m[2025-11-08 07:56:39 DEBUG] [process:52] Running: ['/usr/local/bin/kubectl', 'scale', 'deployment', 'backend-service-deployment', '--replicas=0', '-n', 'default']
[36m[2025-11-08 07:56:39 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': 'deployment.apps/backend-service-deployment scaled\n', 'stderr': ''}'
[32m[2025-11-08 07:56:39 INFO] [activity:280] Pausing after activity for 30s...
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'method'
[36m[2025-11-08 07:57:09 DEBUG] [run:696] Running steady-state hypothesis after the method
[32m[2025-11-08 07:57:09 INFO] [hypothesis:205] Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'hypothesis'
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:57:09 INFO] [activity:232] Probe: backend-service-pod-is-running
[36m[2025-11-08 07:57:09 DEBUG] [process:52] Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 07:57:09 DEBUG] [activity:260]   => succeeded with '{'status': 1, 'stdout': '', 'stderr': 'error: error executing jsonpath "{.items[0].status.phase}": Error executing template: array index out of bounds: index 0, length 0. Printing more information for debugging the template:\n\ttemplate was:\n\t\t{.items[0].status.phase}\n\tobject given to jsonpath engine was:\n\t\tmap[string]interface {}{"apiVersion":"v1", "items":[]interface {}{}, "kind":"List", "metadata":map[string]interface {}{"resourceVersion":""}}\n\n\n'}'
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:57:09 DEBUG] [hypothesis:247] allowed tolerance is 0
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'hypothesis'
[31m[2025-11-08 07:57:09 CRITICAL] [run:716] Steady state probe 'backend-service-pod-is-running' is not in the given tolerance so failing this experiment
[32m[2025-11-08 07:57:09 INFO] [run:1072] Let's rollback...
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'rollback'
[32m[2025-11-08 07:57:09 INFO] [rollback:36] Rollback: restore-backend-service
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'activity'
[32m[2025-11-08 07:57:09 INFO] [activity:232] Action: restore-backend-service
[36m[2025-11-08 07:57:09 DEBUG] [process:52] Running: ['/usr/local/bin/kubectl', 'scale', 'deployment', 'backend-service-deployment', '--replicas=1', '-n', 'default']
[36m[2025-11-08 07:57:09 DEBUG] [activity:260]   => succeeded with '{'status': 0, 'stdout': 'deployment.apps/backend-service-deployment scaled\n', 'stderr': ''}'
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'activity'
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'rollback'
[32m[2025-11-08 07:57:09 INFO] [run:598] Experiment ended with status: deviated
[32m[2025-11-08 07:57:09 INFO] [run:600] The steady-state has deviated, a weakness may have been discovered
[36m[2025-11-08 07:57:09 DEBUG] [__init__:472] No controls to apply on 'experiment'
[36m[2025-11-08 07:57:09 DEBUG] [__init__:106] Cleaning up controls
[36m[2025-11-08 07:57:09 DEBUG] [caching:42] Clearing activities cache
[36m[2025-11-08 13:48:35 DEBUG] [__init__:101][39m ###############################################################################
[36m[2025-11-08 13:48:35 DEBUG] [__init__:102][39m Running command 'run'
[36m[2025-11-08 13:48:35 DEBUG] [__init__:106][39m Using settings file '/Users/estherli/.chaostoolkit/settings.yaml'
[36m[2025-11-08 13:48:35 DEBUG] [settings:31][39m The Chaos Toolkit settings file could not be found at '/Users/estherli/.chaostoolkit/settings.yaml'.
[36m[2025-11-08 13:48:35 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 13:48:35 DEBUG] [__init__:472][39m No controls to apply on 'loader'
[36m[2025-11-08 13:48:35 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 13:48:35 DEBUG] [caching:35][39m Cached 3 activities
[32m[2025-11-08 13:48:35 INFO] [experiment:59][39m Validating the experiment's syntax
[36m[2025-11-08 13:48:35 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 13:48:35 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 13:48:35 DEBUG] [secret:104][39m Done loading secrets
[32m[2025-11-08 13:48:35 INFO] [experiment:112][39m Experiment looks valid
[36m[2025-11-08 13:48:35 DEBUG] [caching:42][39m Clearing activities cache
[36m[2025-11-08 13:48:35 DEBUG] [run:224][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2025-11-08 13:48:35 DEBUG] [caching:24][39m Building activity cache...
[36m[2025-11-08 13:48:35 DEBUG] [caching:35][39m Cached 3 activities
[36m[2025-11-08 13:48:35 DEBUG] [configuration:64][39m Loading configuration...
[36m[2025-11-08 13:48:35 DEBUG] [secret:79][39m Loading secrets...
[36m[2025-11-08 13:48:35 DEBUG] [secret:104][39m Done loading secrets
[36m[2025-11-08 13:48:35 DEBUG] [configuration:161][39m Loading dynamic configuration...
[32m[2025-11-08 13:48:35 INFO] [run:440][39m Running experiment: Network Partition: ClientService to BackendService
[36m[2025-11-08 13:48:35 DEBUG] [__init__:67][39m Initializing controls
[32m[2025-11-08 13:48:35 INFO] [run:471][39m Steady-state strategy: default
[32m[2025-11-08 13:48:35 INFO] [run:477][39m Rollbacks strategy: default
[36m[2025-11-08 13:48:35 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 13:48:35 DEBUG] [run:654][39m Running steady-state hypothesis before the method
[32m[2025-11-08 13:48:35 INFO] [hypothesis:205][39m Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 13:48:35 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[36m[2025-11-08 13:48:35 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 13:48:35 INFO] [activity:232][39m Probe: backend-service-pod-is-running
[36m[2025-11-08 13:48:35 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 13:48:35 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 13:48:35 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 13:48:35 DEBUG] [hypothesis:247][39m allowed tolerance is 0
[36m[2025-11-08 13:48:35 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 13:48:35 INFO] [activity:232][39m Probe: client-service-pod-is-running
[36m[2025-11-08 13:48:35 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=client-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 13:48:36 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 13:48:36 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 13:48:36 DEBUG] [hypothesis:247][39m allowed tolerance is 0
[32m[2025-11-08 13:48:36 INFO] [hypothesis:260][39m Steady state hypothesis is met!
[36m[2025-11-08 13:48:36 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[32m[2025-11-08 13:48:36 INFO] [run:778][39m Playing your experiment's method now...
[36m[2025-11-08 13:48:36 DEBUG] [__init__:472][39m No controls to apply on 'method'
[36m[2025-11-08 13:48:36 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 13:48:36 INFO] [activity:232][39m Action: block-network-to-backend-service
[36m[2025-11-08 13:48:36 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', 'CLIENT_POD=$(kubectl get pods -l app=client-service -n default -o jsonpath=\'{.items[0].metadata.name}\'); BACKEND_IP=$(kubectl get svc backend-service -n default -o jsonpath=\'{.spec.clusterIP}\'); echo "Blocking traffic from $CLIENT_POD to $BACKEND_IP"; kubectl exec $CLIENT_POD -n default -- sh -c "iptables -A OUTPUT -d $BACKEND_IP -j DROP" 2>&1 || echo "Note: iptables may require NET_ADMIN capability or pod may not exist"']
[36m[2025-11-08 13:48:36 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': 'Blocking traffic from client-service-deployment-575dc956db-7cl69 to 10.106.250.254\nsh: 1: iptables: not found\ncommand terminated with exit code 127\nNote: iptables may require NET_ADMIN capability or pod may not exist\n', 'stderr': ''}'
[32m[2025-11-08 13:48:36 INFO] [activity:280][39m Pausing after activity for 30s...
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'method'
[36m[2025-11-08 13:49:06 DEBUG] [run:696][39m Running steady-state hypothesis after the method
[32m[2025-11-08 13:49:06 INFO] [hypothesis:205][39m Steady state hypothesis: Services are healthy and communicating
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 13:49:06 INFO] [activity:232][39m Probe: backend-service-pod-is-running
[36m[2025-11-08 13:49:06 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=backend-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 13:49:06 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 13:49:06 DEBUG] [hypothesis:247][39m allowed tolerance is 0
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 13:49:06 INFO] [activity:232][39m Probe: client-service-pod-is-running
[36m[2025-11-08 13:49:06 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', "kubectl get pods -l app=client-service -n default -o jsonpath='{.items[0].status.phase}' | grep -q Running"]
[36m[2025-11-08 13:49:06 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': '', 'stderr': ''}'
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 13:49:06 DEBUG] [hypothesis:247][39m allowed tolerance is 0
[32m[2025-11-08 13:49:06 INFO] [hypothesis:260][39m Steady state hypothesis is met!
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'hypothesis'
[32m[2025-11-08 13:49:06 INFO] [run:1072][39m Let's rollback...
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'rollback'
[32m[2025-11-08 13:49:06 INFO] [rollback:36][39m Rollback: restore-network-to-backend-service
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[32m[2025-11-08 13:49:06 INFO] [activity:232][39m Action: restore-network-to-backend-service
[36m[2025-11-08 13:49:06 DEBUG] [process:52][39m Running: ['/bin/sh', '-c', 'CLIENT_POD=$(kubectl get pods -l app=client-service -n default -o jsonpath=\'{.items[0].metadata.name}\'); BACKEND_IP=$(kubectl get svc backend-service -n default -o jsonpath=\'{.spec.clusterIP}\'); echo "Restoring traffic from $CLIENT_POD to $BACKEND_IP"; kubectl exec $CLIENT_POD -n default -- sh -c "iptables -D OUTPUT -d $BACKEND_IP -j DROP" 2>&1 || echo "Rule removed or did not exist"']
[36m[2025-11-08 13:49:06 DEBUG] [activity:260][39m   => succeeded with '{'status': 0, 'stdout': 'Restoring traffic from client-service-deployment-575dc956db-7cl69 to 10.106.250.254\nsh: 1: iptables: not found\ncommand terminated with exit code 127\nRule removed or did not exist\n', 'stderr': ''}'
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'activity'
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'rollback'
[32m[2025-11-08 13:49:06 INFO] [run:598][39m Experiment ended with status: completed
[36m[2025-11-08 13:49:06 DEBUG] [__init__:472][39m No controls to apply on 'experiment'
[36m[2025-11-08 13:49:06 DEBUG] [__init__:106][39m Cleaning up controls
[36m[2025-11-08 13:49:06 DEBUG] [caching:42][39m Clearing activities cache
